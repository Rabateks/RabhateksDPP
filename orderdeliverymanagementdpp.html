<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rabateks Order Delivery DPP - Digital Product Passport</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #ffffff;
            color: #333;
            line-height: 1.6;
        }

        .header {
            background-color: #ffffff;
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiMwMDU1MzAiLz4KPHN0eWxlPgoudGV4dCB7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogYm9sZDsgZmlsbDogd2hpdGU7IH0KPC9zdHlsZT4KPHR0ZXh0IHg9IjUwJSIgeT0iMjBweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgY2xhc3M9InRleHQiPlJhYmF0ZWtzPC90ZXh0Pgo8dHRleHQgeD0iNTAlIiB5PSIzNXB4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBjbGFzcz0idGV4dCIgZm9udC1zaXplPSI4cHgiPnJhYmF0ZWtzLmNvbTwvdHRleHQ+Cjwvc3ZnPg==');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            border-radius: 50%;
        }

        .header-text h1 {
            color: #005530;
            font-size: 24px;
            font-weight: 700;
        }

        .header-text .subtitle {
            color: #666;
            font-size: 14px;
        }

        .dpp-title {
            color: #f9ba00;
            font-weight: 600;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .form-section {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
            font-size: 14px;
        }

        input, select, textarea {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            background-color: #ffffff;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #005530;
            box-shadow: 0 0 0 3px rgba(0, 85, 48, 0.1);
        }

        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .tag {
            background-color: #005530;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .tag .remove {
            cursor: pointer;
            font-weight: bold;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .btn-primary {
            background-color: #005530;
            color: white;
        }

        .btn-primary:hover {
            background-color: #004429;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background-color: #666;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #555;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0;
            text-align: center;
        }

        .stat-icon {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 14px;
        }

        .delivery-list {
            background-color: #ffffff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0;
        }

        .delivery-item {
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f9ba00;
            color: #333;
            margin-bottom: 8px;
            border-radius: 8px;
        }

        .delivery-info h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .delivery-details {
            font-size: 14px;
            color: #666;
        }

        .delivery-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
            border-radius: 4px;
        }

        .btn-edit {
            background-color: #02154e;
            color: white;
        }

        .btn-details {
            background-color: #666;
            color: white;
        }

        .btn-delete {
            background-color: #D51635;
            color: white;
        }

        .delivery-method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 10px;
        }

        .standard { background-color: #005530; color: white; }
        .express { background-color: #f9ba00; color: #333; }
        .overnight { background-color: #D51635; color: white; }
        .eco-friendly { background-color: #005530; color: white; }
        .pickup { background-color: #02154e; color: white; }

        .helper-text { font-size: 12px; color: #666; margin-top: 5px; }

        .chart-container {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0;
        }

        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
        }

        .delivery-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 10px;
        }

        .processing { background-color: #f9ba00; color: #333; }
        .shipped { background-color: #02154e; color: white; }
        .out-for-delivery { background-color: #005530; color: white; }
        .delivered { background-color: #005530; color: white; }
        .failed { background-color: #D51635; color: white; }
        .returned { background-color: #666; color: white; }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            .form-grid { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .delivery-item { flex-direction: column; align-items: flex-start; gap: 15px; }
        }

        /* Back to Dashboard button (saƒü √ºst) */
        .back-to-dashboard {
            margin-left: auto;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            height: 40px;
            padding: 0 14px;
            border-radius: 10px;
            background: #005530;
            color: #fff;
            font-weight: 600;
            text-decoration: none;
            border: 1px solid transparent;
            box-shadow: 0 2px 8px rgba(0,85,48,0.25);
            transition: transform .15s, box-shadow .15s, background .15s;
            white-space: nowrap;
        }
        .back-to-dashboard:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,85,48,0.35); }
        .back-to-dashboard:active { transform: translateY(0); }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo"></div>
        <div class="header-text">
            <h1>Rabateks <span class="dpp-title">DPP</span> ‚Äî Order Delivery Management</h1>
            <p class="subtitle">Digital Product Passport ‚Ä¢ Customer Delivery ‚Ä¢ Last-Mile Tracking</p>
        </div>
        <!-- Updated with direct link to index.html -->
        <a class="back-to-dashboard" href="index.html">‚Üê Back to Main Dashboard</a>
    </header>

    <div class="container">
        <!-- Statistics Overview -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üì¶</div>
                <div class="stat-value" style="color: #005530;">1,847</div>
                <div class="stat-label">Orders in Transit</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-value" style="color: #005530;">97.2%</div>
                <div class="stat-label">On-Time Delivery</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üå±</div>
                <div class="stat-value" style="color: #f9ba00;">3.8t</div>
                <div class="stat-label">CO‚ÇÇ/Month</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-value" style="color: #02154e;">‚Ç¨28K</div>
                <div class="stat-label">Monthly Delivery Cost</div>
            </div>
        </div>

        <!-- Order Delivery Entry Form -->
        <div class="form-section">
            <h2 style="color: #333; margin-bottom: 20px;">Add New Order Delivery</h2>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="order-id">Order ID</label>
                    <input type="text" id="order-id" placeholder="e.g., ORD-24567">
                </div>

                <div class="form-group">
                    <label for="customer-name">Customer Name</label>
                    <input type="text" id="customer-name" placeholder="e.g., Maria Gonzalez">
                </div>

                <div class="form-group">
                    <label for="delivery-address">Delivery Address</label>
                    <input type="text" id="delivery-address" placeholder="e.g., 123 Fashion St, Milan, Italy">
                </div>

                <div class="form-group">
                    <label for="delivery-method">Delivery Method</label>
                    <select id="delivery-method">
                        <option value="">Select Method</option>
                        <option value="Standard">Standard Delivery (3-5 days)</option>
                        <option value="Express">Express Delivery (1-2 days)</option>
                        <option value="Overnight">Overnight Delivery</option>
                        <option value="Eco-Friendly">Eco-Friendly Delivery</option>
                        <option value="Pickup">Store Pickup</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="carrier-service">Carrier Service</label>
                    <select id="carrier-service">
                        <option value="">Select Carrier</option>
                        <option value="DHL Express">DHL Express</option>
                        <option value="UPS">UPS</option>
                        <option value="FedEx">FedEx</option>
                        <option value="Local Courier">Local Courier</option>
                        <option value="Post Office">National Post</option>
                        <option value="Eco Delivery">Green Logistics</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tracking-number">Tracking Number</label>
                    <input type="text" id="tracking-number" placeholder="e.g., 1Z999AA1234567890">
                </div>

                <div class="form-group">
                    <label for="package-weight">Package Weight (kg)</label>
                    <input type="number" step="0.1" id="package-weight" placeholder="e.g., 1.2">
                </div>

                <div class="form-group">
                    <label for="package-dimensions">Package Dimensions (cm)</label>
                    <input type="text" id="package-dimensions" placeholder="e.g., 30x25x8">
                </div>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label for="order-date">Order Date</label>
                    <input type="date" id="order-date">
                </div>

                <div class="form-group">
                    <label for="ship-date">Ship Date</label>
                    <input type="date" id="ship-date">
                </div>

                <div class="form-group">
                    <label for="expected-delivery">Expected Delivery</label>
                    <input type="date" id="expected-delivery">
                </div>

                <div class="form-group">
                    <label for="delivery-cost">Delivery Cost (‚Ç¨)</label>
                    <input type="number" step="0.01" id="delivery-cost" placeholder="e.g., 12.50">
                </div>

                <div class="form-group">
                    <label for="carbon-footprint">Carbon Footprint (kg CO‚ÇÇ)</label>
                    <input type="number" step="0.01" id="carbon-footprint" placeholder="e.g., 0.85">
                </div>

                <div class="form-group">
                    <label for="delivery-status">Delivery Status</label>
                    <select id="delivery-status">
                        <option value="Processing">Processing</option>
                        <option value="Shipped">Shipped</option>
                        <option value="Out for Delivery">Out for Delivery</option>
                        <option value="Delivered">Delivered</option>
                        <option value="Failed Delivery">Failed Delivery</option>
                        <option value="Returned">Returned</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="order-value">Order Value (‚Ç¨)</label>
                    <input type="number" step="0.01" id="order-value" placeholder="e.g., 89.99">
                </div>

                <div class="form-group">
                    <label for="customer-type">Customer Type</label>
                    <select id="customer-type">
                        <option value="Individual">Individual Customer</option>
                        <option value="Business">Business Customer</option>
                        <option value="Wholesale">Wholesale</option>
                        <option value="Retail Partner">Retail Partner</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="delivery-notes">Delivery Notes</label>
                <textarea id="delivery-notes" rows="3" placeholder="Special delivery instructions, customer preferences, or handling requirements..."></textarea>
            </div>

            <div class="tags-container" id="delivery-tags">
                <div class="tag">Signature Required <span class="remove">√ó</span></div>
                <div class="tag">Fragile Items <span class="remove">√ó</span></div>
            </div>
            <div class="helper-text">Special delivery requirements and customer preferences</div>

            <div class="button-group">
                <button class="btn btn-primary">Add Order Delivery</button>
                <button class="btn btn-secondary">Clear Form</button>
            </div>
        </div>

        <!-- Order Delivery List -->
        <div class="delivery-list">
            <div class="delivery-item">
                <div class="delivery-info">
                    <h3>ORD-24567 ‚Ä¢ Maria Gonzalez ‚Ä¢ Milan, Italy</h3>
                    <div class="delivery-details">
                        Carrier: DHL Express | 1.2kg | 30x25x8cm | ‚Ç¨15.50 | 0.85kg CO‚ÇÇ | ‚Ç¨89.99
                        <span class="delivery-method express">Express</span>
                        <span class="delivery-status out-for-delivery">Out for Delivery</span>
                    </div>
                </div>
                <div class="delivery-actions">
                    <button class="btn btn-small btn-edit">üìù Edit</button>
                    <button class="btn btn-small btn-details">üëÅÔ∏è Track</button>
                    <button class="btn btn-small btn-delete">üóëÔ∏è Delete</button>
                </div>
            </div>

            <div class="delivery-item">
                <div class="delivery-info">
                    <h3>ORD-24568 ‚Ä¢ Hans Mueller ‚Ä¢ Berlin, Germany</h3>
                    <div class="delivery-details">
                        Carrier: Green Logistics | 0.8kg | 25x20x5cm | ‚Ç¨8.00 | 0.45kg CO‚ÇÇ | ‚Ç¨65.00
                        <span class="delivery-method eco-friendly">Eco-Friendly</span>
                        <span class="delivery-status delivered">Delivered</span>
                    </div>
                </div>
                <div class="delivery-actions">
                    <button class="btn btn-small btn-edit">üìù Edit</button>
                    <button class="btn btn-small btn-details">üëÅÔ∏è Track</button>
                    <button class="btn btn-small btn-delete">üóëÔ∏è Delete</button>
                </div>
            </div>

            <div class="delivery-item">
                <div class="delivery-info">
                    <h3>ORD-24569 ‚Ä¢ Sophie Martin ‚Ä¢ Paris, France</h3>
                    <div class="delivery-details">
                        Carrier: FedEx Overnight | 0.6kg | 20x15x4cm | ‚Ç¨22.00 | 1.20kg CO‚ÇÇ | ‚Ç¨120.00
                        <span class="delivery-method overnight">Overnight</span>
                        <span class="delivery-status shipped">Shipped</span>
                    </div>
                </div>
                <div class="delivery-actions">
                    <button class="btn btn-small btn-edit">üìù Edit</button>
                    <button class="btn btn-small btn-details">üëÅÔ∏è Track</button>
                    <button class="btn btn-small btn-delete">üóëÔ∏è Delete</button>
                </div>
            </div>

            <div class="delivery-item">
                <div class="delivery-info">
                    <h3>ORD-24570 ‚Ä¢ Emma Johnson ‚Ä¢ London, UK</h3>
                    <div class="delivery-details">
                        Carrier: Local Courier | 1.5kg | 35x30x10cm | ‚Ç¨12.00 | 0.65kg CO‚ÇÇ | ‚Ç¨156.50
                        <span class="delivery-method standard">Standard</span>
                        <span class="delivery-status processing">Processing</span>
                    </div>
                </div>
                <div class="delivery-actions">
                    <button class="btn btn-small btn-edit">üìù Edit</button>
                    <button class="btn btn-small btn-details">üëÅÔ∏è Track</button>
                    <button class="btn btn-small btn-delete">üóëÔ∏è Delete</button>
                </div>
            </div>

            <div class="delivery-item">
                <div class="delivery-info">
                    <h3>ORD-24571 ‚Ä¢ Isabella Rossi ‚Ä¢ Rome, Italy</h3>
                    <div class="delivery-details">
                        Store: Rabateks Milano Store | 0.9kg | Pickup | ‚Ç¨0.00 | 0.00kg CO‚ÇÇ | ‚Ç¨78.00
                        <span class="delivery-method pickup">Store Pickup</span>
                        <span class="delivery-status delivered">Delivered</span>
                    </div>
                </div>
                <div class="delivery-actions">
                    <button class="btn btn-small btn-edit">üìù Edit</button>
                    <button class="btn btn-small btn-details">üëÅÔ∏è Track</button>
                    <button class="btn btn-small btn-delete">üóëÔ∏è Delete</button>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="chart-container">
            <h3 class="chart-title">Delivery Method Distribution</h3>
            <canvas id="deliveryMethodChart" width="400" height="200"></canvas>
        </div>

        <div class="chart-container">
            <h3 class="chart-title">Weekly Delivery Performance</h3>
            <canvas id="performanceChart" width="400" height="200"></canvas>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        // Delivery Method Chart
        const deliveryMethodCtx = document.getElementById('deliveryMethodChart').getContext('2d');
        new Chart(deliveryMethodCtx, {
            type: 'doughnut',
            data: {
                labels: ['Standard', 'Express', 'Eco-Friendly', 'Store Pickup', 'Overnight'],
                datasets: [{
                    data: [45, 28, 15, 8, 4],
                    backgroundColor: ['#005530', '#f9ba00', '#005530', '#02154e', '#D51635'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true
                        }
                    }
                }
            }
        });

        // Performance Chart
        const performanceCtx = document.getElementById('performanceChart').getContext('2d');
        new Chart(performanceCtx, {
            type: 'line',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [
                    {
                        label: 'Orders Delivered',
                        data: [145, 165, 189, 201, 187, 223, 178],
                        borderColor: '#005530',
                        backgroundColor: 'rgba(0, 85, 48, 0.1)',
                        tension: 0.4
                    },
                    {
                        label: 'On-Time Delivery %',
                        data: [96, 98, 97, 99, 95, 97, 98],
                        borderColor: '#f9ba00',
                        backgroundColor: 'rgba(249, 186, 0, 0.1)',
                        tension: 0.4,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Orders Delivered'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        min: 90,
                        max: 100,
                        title: {
                            display: true,
                            text: 'On-Time %'
                        },
                        grid: {
                            drawOnChartArea: false,
                        },
                    }
                }
            }
        });

        // Interactive functionality
        document.getElementById('delivery-notes').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                const value = this.value.trim();
                if (value) {
                    const tagsContainer = document.getElementById('delivery-tags');
                    const tag = document.createElement('div');
                    tag.className = 'tag';
                    tag.innerHTML = `${value} <span class="remove">√ó</span>`;
                    tagsContainer.appendChild(tag);
                    
                    tag.querySelector('.remove').addEventListener('click', function() {
                        tag.remove();
                    });
                }
            }
        });

        // Remove existing tags
        document.querySelectorAll('.tag .remove').forEach(remove => {
            remove.addEventListener('click', function() {
                this.parentElement.remove();
            });
        });

        // Auto-calculate carbon footprint based on delivery method and weight
        document.getElementById('delivery-method').addEventListener('change', function() {
            const weight = document.getElementById('package-weight').value;
            
            if (weight) {
                let emissionFactor;
                switch(this.value) {
                    case 'Standard': emissionFactor = 0.5; break;
                    case 'Express': emissionFactor = 0.8; break;
                    case 'Overnight': emissionFactor = 1.5; break;
                    case 'Eco-Friendly': emissionFactor = 0.3; break;
                    case 'Pickup': emissionFactor = 0; break;
                    default: emissionFactor = 0.5;
                }
                
                const emission = (weight * emissionFactor).toFixed(2);
                document.getElementById('carbon-footprint').value = emission;
            }
        });

        // Auto-calculate delivery cost based on method and weight
        document.getElementById('delivery-method').addEventListener('change', function() {
            const weight = document.getElementById('package-weight').value;
            
            if (weight) {
                let baseCost;
                switch(this.value) {
                    case 'Standard': baseCost = 8; break;
                    case 'Express': baseCost = 15; break;
                    case 'Overnight': baseCost = 25; break;
                    case 'Eco-Friendly': baseCost = 10; break;
                    case 'Pickup': baseCost = 0; break;
                    default: baseCost = 8;
                }
                
                const cost = (baseCost + (weight * 2)).toFixed(2);
                document.getElementById('delivery-cost').value = cost;
            }
        });

        // Form validation and submission
        document.querySelector('.btn-primary').addEventListener('click', function() {
            // Add form validation and submission logic here
            alert('Order delivery added successfully!');
        });
    </script>

    <!-- Removed custom back link script to allow default link behavior -->

</body>
</html>
